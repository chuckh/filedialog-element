<!DOCTYPE html>
<html>
  <head>
    <title>filedialog-element Demo</title>
    <meta charset="utf-8"/>
    <meta name="description" content="Created by Rick on 11/18/2014."/>
    <meta name="keywords" content=""/>
    <meta name="author" content="Rick Dean"/>
    <script src="../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="import" href="filedialog-element.html">
    <script>

      window.addEventListener('WebComponentsReady', function(e) {
        const filedialogText = document.querySelector('#textformat');
        const textOutput = document.querySelector('#text_output');
        filedialogText.show_progress = true;
        filedialogText.buttonText = 'Read a Text File';
        filedialogText.addEventListener('filedialog-result',function(e){
          textOutput.innerText = e.detail.fileResult;
        });

        const filedialogURL = document.querySelector('#urlformat');
        const thumbImg = document.querySelector('#thumb_img');
        filedialogURL.show_progress = true;
        filedialogURL.buttonText = 'Read an Image File';
        filedialogURL.format = 'url';
        filedialogURL.addEventListener('filedialog-result',function(e){
          thumbImg.src = e.detail.fileResult;
        });

        const filedialogBinaryStr = document.querySelector('#binarystrformat');
        const binarystrOutput = document.querySelector('#binarystr_output');
        filedialogBinaryStr.buttonText = 'Read File as Binary String';
        filedialogBinaryStr.format = 'binarystring';
        filedialogBinaryStr.addEventListener('filedialog-result',function(e){
          binarystrOutput.innerText = e.detail.fileResult;
        });
      });
    </script>
  </head>
  <style>
    filedialog-element {
      margin-top: 40px;
    }
    .output {
      margin-top: 20px;
    }
    .thumb {
      height: 75px;
      border: 1px solid black;
      margin: 10px;
    }
  </style>
  <body>
    <section>
      <filedialog-element id='textformat'></filedialog-element>
      <div id="text_output" class="output"></div>
    </section>

    <section>
      <filedialog-element id='urlformat'></filedialog-element>
      <img id="thumb_img" class="thumb output"/>
    </section>

    <section>
      <filedialog-element id='binarystrformat'></filedialog-element>
      <div id="binarystr_output" class="output"></div>
    </section>
  </body>
</html>
